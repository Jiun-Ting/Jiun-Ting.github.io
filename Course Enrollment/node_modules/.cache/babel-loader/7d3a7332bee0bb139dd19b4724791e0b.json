{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thepa\\\\Jiun-Ting.github.io\\\\Course Enrollment\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport CompletedArea from './CompletedArea';\nimport RecommendedArea from './RecommendedArea';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Alert from 'react-bootstrap/Alert';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: [],\n      filteredCourses: [],\n      subjects: [],\n      cartCourses: {},\n      completedCourses: [],\n      interests: [],\n      preference: []\n    };\n    this.addPreference = this.addPreference.bind(this);\n    this.removePreference = this.removePreference.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadInitialState();\n    this.loadCompleted();\n  }\n\n  async loadInitialState() {\n    let courseURL = \"https://raw.githubusercontent.com/Jiun-Ting/Jiun-Ting.github.io/main/classes.json\";\n    let courseData = await (await fetch(courseURL)).json();\n    this.setState({\n      allCourses: courseData,\n      filteredCourses: courseData,\n      subjects: this.getSubjects(courseData),\n      interests: this.getInterests(courseData)\n    });\n  }\n\n  async loadCompleted() {\n    let courseURL = \"https://raw.githubusercontent.com/Jiun-Ting/Jiun-Ting.github.io/main/completed.json\";\n    let courseData = await (await fetch(courseURL)).json();\n    this.setState({\n      completedCourses: courseData.data\n    });\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (let i = 0; i < data.length; i++) {\n      if (subjects.indexOf(data[i].subject) === -1) subjects.push(data[i].subject);\n    }\n\n    return subjects;\n  }\n\n  getKeywords(data) {\n    let dict = data.keywords;\n    let KeyWords = [];\n\n    for (let key in dict) {\n      KeyWords.push(dict[key]);\n    }\n\n    return KeyWords;\n  }\n\n  getInterests(data) {\n    let interestRaw = this.getSubjects(data);\n    let interests = interestRaw.slice(0, 1);\n    interests = interests.concat(interestRaw.slice(1).map(v => v.toLowerCase()));\n\n    for (let i = 0; i < data.length; i++) {\n      let keywords = this.getKeywords(data[i]);\n\n      for (let j = 0; j < keywords.length; j++) {\n        if (interests.indexOf(keywords[j]) === -1) {\n          interests.push(keywords[j]);\n        }\n      }\n    }\n\n    return interests;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  addCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses)); // I think this is a hack to deepcopy\n\n    let courseIndex = this.state.allCourses.findIndex(x => {\n      return x.number === data.course;\n    });\n\n    if (courseIndex === -1) {\n      return;\n    }\n\n    if ('subsection' in data) {\n      if (data.course in this.state.cartCourses) {\n        if (data.section in this.state.cartCourses[data.course]) {\n          newCartCourses[data.course][data.section].push(data.subsection);\n        } else {\n          newCartCourses[data.course][data.section] = [];\n          newCartCourses[data.course][data.section].push(data.subsection);\n        }\n      } else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n        newCartCourses[data.course][data.section].push(data.subsection);\n      }\n    } else if ('section' in data) {\n      if (data.course in this.state.cartCourses) {\n        newCartCourses[data.course][data.section] = [];\n\n        for (let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      } else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n\n        for (let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      }\n    } else {\n      newCartCourses[data.course] = {};\n\n      for (let i = 0; i < this.state.allCourses[courseIndex].sections.length; i++) {\n        newCartCourses[data.course][i] = [];\n\n        for (let c = 0; c < this.state.allCourses[courseIndex].sections[i].subsections.length; c++) {\n          newCartCourses[data.course][i].push(this.state.allCourses[courseIndex].sections[i].subsections[c]);\n        }\n      }\n    }\n\n    this.setState({\n      cartCourses: newCartCourses\n    });\n  }\n\n  removeCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses));\n\n    if ('subsection' in data) {\n      newCartCourses[data.course][data.section].splice(newCartCourses[data.course][data.section].indexOf(data.subsection), 1);\n\n      if (newCartCourses[data.course][data.section].length === 0) {\n        delete newCartCourses[data.course][data.section];\n      }\n\n      if (Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    } else if ('section' in data) {\n      delete newCartCourses[data.course][data.section];\n\n      if (Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    } else {\n      delete newCartCourses[data.course];\n    }\n\n    this.setState({\n      cartCourses: newCartCourses\n    });\n  }\n\n  getCartData() {\n    let cartData = [];\n\n    for (const courseKey of Object.keys(this.state.cartCourses)) {\n      let course = this.state.allCourses.find(x => {\n        return x.number === courseKey;\n      });\n      cartData.push(course);\n    }\n\n    return cartData;\n  }\n\n  getCompletedData() {\n    let completedData = [];\n    let courseNum = this.state.completedCourses;\n\n    for (let i = 0; i < courseNum.length; i++) {\n      for (const courseKey of Object.values(this.state.allCourses)) {\n        if (courseKey.number === courseNum[i]) {\n          completedData.push(courseKey);\n        }\n      }\n    }\n\n    return completedData;\n  }\n\n  getRecommendedData() {\n    let recommendedData = [];\n    let courseNum = this.state.completedCourses;\n\n    for (const courseKey of Object.values(this.state.allCourses)) {\n      let complete = false;\n\n      for (let i = 0; i < courseNum.length; i++) {\n        if (courseKey.number === courseNum[i]) {\n          complete = true;\n          break;\n        }\n      }\n\n      if (complete === false) {\n        for (const item of Object.values(this.state.preference)) {\n          if (courseKey.subject.toLowerCase() === item) {\n            if (recommendedData.indexOf(courseKey) === -1) {\n              recommendedData.push(courseKey);\n              break;\n            }\n          } else {\n            for (const keyword of Object.values(courseKey.keywords)) {\n              if (keyword.toLowerCase() === item) {\n                if (recommendedData.indexOf(courseKey) === -1) {\n                  recommendedData.push(courseKey);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return recommendedData;\n  }\n\n  addPreference(e) {\n    let pref = this.state.preference;\n    let add = [];\n\n    if (pref.length === 0) {\n      add = e;\n    } else {\n      for (let i = 0; i < e.length; i++) {\n        let nonExistEntry = true;\n\n        for (const item of Object.values(pref)) {\n          if (item === e[i]) {\n            nonExistEntry = false;\n            break;\n          }\n        }\n\n        if (nonExistEntry === true) {\n          add.push(e[i]);\n        }\n      }\n    }\n\n    this.setState({\n      preference: pref.concat(add)\n    });\n  }\n\n  removePreference(e) {\n    let newPref = [];\n\n    for (const item of Object.values(this.state.preference)) {\n      let keepPref = true;\n\n      for (const entry of Object.values(e)) {\n        if (item === entry) {\n          keepPref = false;\n          break;\n        }\n      }\n\n      if (keepPref === true) {\n        newPref.push(item);\n      }\n    }\n\n    this.setState({\n      preference: newPref\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Tabs, {\n      defaultActiveKey: \"search\",\n      style: {\n        position: 'fixed',\n        zIndex: 1,\n        width: '100%',\n        backgroundColor: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"search\",\n      title: \"Search\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      interests: this.state.interests,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      all: this.state.allCourses,\n      complete: this.state.completedCourses,\n      data: this.state.filteredCourses,\n      addCartCourse: data => this.addCartCourse(data),\n      removeCartCourse: data => this.removeCartCourse(data),\n      cartCourses: this.state.cartCourses,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"cart\",\n      title: \"Cart\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CourseArea, {\n      all: this.state.allCourses,\n      complete: this.state.completedCourses,\n      data: this.getCartData(),\n      addCartCourse: data => this.addCartCourse(data),\n      removeCartCourse: data => this.removeCartCourse(data),\n      cartCourses: this.state.cartCourses,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"complete\",\n      title: \"Completed Courses\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CompletedArea, {\n      data: this.getCompletedData(),\n      addPreference: data => this.addPreference(data),\n      removePreference: data => this.removePreference(data),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Tab, {\n      eventKey: \"recommend\",\n      title: \"Recommended Courses\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 3\n      }\n    }, \"The following are untaken courses which has common interests with the completed ones that was rated more that 3.\")), /*#__PURE__*/React.createElement(RecommendedArea, {\n      data: this.getRecommendedData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/thepa/Jiun-Ting.github.io/Course Enrollment/src/App.js"],"names":["React","Sidebar","CourseArea","CompletedArea","RecommendedArea","Tabs","Tab","Alert","App","Component","constructor","props","state","allCourses","filteredCourses","subjects","cartCourses","completedCourses","interests","preference","addPreference","bind","removePreference","componentDidMount","loadInitialState","loadCompleted","courseURL","courseData","fetch","json","setState","getSubjects","getInterests","data","push","i","length","indexOf","subject","getKeywords","dict","keywords","KeyWords","key","interestRaw","slice","concat","map","v","toLowerCase","j","setCourses","courses","addCartCourse","newCartCourses","JSON","parse","stringify","courseIndex","findIndex","x","number","course","section","subsection","sections","subsections","c","removeCartCourse","splice","Object","keys","getCartData","cartData","courseKey","find","getCompletedData","completedData","courseNum","values","getRecommendedData","recommendedData","complete","item","keyword","e","pref","add","nonExistEntry","newPref","keepPref","entry","render","position","zIndex","width","backgroundColor","paddingTop","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from './Sidebar';\r\nimport CourseArea from './CourseArea';\r\nimport CompletedArea from './CompletedArea';\r\nimport RecommendedArea from './RecommendedArea';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allCourses: [],\r\n      filteredCourses: [],\r\n      subjects: [],\r\n      cartCourses: {},\r\n      completedCourses: [],\r\n      interests: [],\r\n      preference: []\r\n    };\r\n    this.addPreference = this.addPreference.bind(this);\r\n    this.removePreference = this.removePreference.bind(this);\r\n            \r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n   this.loadInitialState()\r\n   this.loadCompleted()\r\n  }\r\n\r\n  async loadInitialState(){\r\n    let courseURL = \"https://raw.githubusercontent.com/Jiun-Ting/Jiun-Ting.github.io/main/classes.json\";\r\n    let courseData = await (await fetch(courseURL)).json()\r\n\r\n\r\n    this.setState({allCourses: courseData, filteredCourses: courseData, \r\n      subjects: this.getSubjects(courseData), interests: this.getInterests(courseData)});\r\n  }\r\n\r\n  async loadCompleted(){\r\n    let courseURL = \"https://raw.githubusercontent.com/Jiun-Ting/Jiun-Ting.github.io/main/completed.json\";\r\n    let courseData = await (await fetch(courseURL)).json()\r\n\r\n\r\n    this.setState({completedCourses: courseData.data});\r\n  }\r\n\r\n\r\n  getSubjects(data) {\r\n    let subjects = [];\r\n    subjects.push(\"All\");\r\n\r\n    for(let i = 0; i < data.length; i++) {\r\n      if(subjects.indexOf(data[i].subject) === -1)\r\n        subjects.push(data[i].subject);\r\n    }\r\n\r\n    return subjects;\r\n  }\r\n\r\n  getKeywords(data) {\r\n    let dict = data.keywords;\r\n    let KeyWords = [];\r\n    for (let key in dict) {\r\n      KeyWords.push(dict[key])\r\n    }\r\n    return KeyWords\r\n\r\n  }\r\n  getInterests(data) {\r\n    let interestRaw = this.getSubjects(data)\r\n    let interests =  interestRaw.slice(0,1)\r\n    interests = interests.concat(interestRaw.slice(1).map(v => v.toLowerCase()));\r\n    for(let i = 0; i < data.length; i++) {\r\n      let keywords = this.getKeywords(data[i])\r\n \r\n      for(let j = 0; j < keywords.length; j++) {\r\n        if(interests.indexOf(keywords[j]) === -1){\r\n          interests.push(keywords[j])\r\n        }\r\n      }\r\n    }\r\n    return interests;\r\n  }\r\n\r\n  setCourses(courses) {\r\n    this.setState({filteredCourses: courses})\r\n  }\r\n\r\n  addCartCourse(data) {\r\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses))// I think this is a hack to deepcopy\r\n    let courseIndex = this.state.allCourses.findIndex((x) => {return x.number===data.course})\r\n    if (courseIndex === -1)\r\n    {\r\n      return \r\n    }\r\n\r\n    if('subsection' in data) {\r\n      if(data.course in this.state.cartCourses) {\r\n        if(data.section in this.state.cartCourses[data.course]) {\r\n          newCartCourses[data.course][data.section].push(data.subsection);\r\n        }\r\n        else {\r\n          newCartCourses[data.course][data.section] = [];\r\n          newCartCourses[data.course][data.section].push(data.subsection);\r\n        }\r\n      }\r\n      else {\r\n        newCartCourses[data.course] = {};\r\n        newCartCourses[data.course][data.section] = [];\r\n        newCartCourses[data.course][data.section].push(data.subsection);\r\n      }\r\n    }\r\n    else if('section' in data) {\r\n      if(data.course in this.state.cartCourses) {\r\n        newCartCourses[data.course][data.section] = [];\r\n\r\n        for(let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\r\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\r\n        }\r\n      \r\n      \r\n      }\r\n      else {\r\n        newCartCourses[data.course] = {};\r\n        newCartCourses[data.course][data.section] = [];\r\n        for(let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) { \r\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      newCartCourses[data.course] = {};\r\n\r\n\r\n      for (let i = 0; i < this.state.allCourses[courseIndex].sections.length; i++){\r\n        newCartCourses[data.course][i] = [];\r\n\r\n         for(let c= 0; c < this.state.allCourses[courseIndex].sections[i].subsections.length; c ++){\r\n          newCartCourses[data.course][i].push(this.state.allCourses[courseIndex].sections[i].subsections[c]);\r\n        }\r\n\r\n      }\r\n\r\n\r\n    }\r\n    this.setState({cartCourses: newCartCourses});\r\n  }\r\n\r\n  removeCartCourse(data) {\r\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses))\r\n\r\n    if('subsection' in data) {\r\n      newCartCourses[data.course][data.section].splice(newCartCourses[data.course][data.section].indexOf(data.subsection), 1);\r\n      if(newCartCourses[data.course][data.section].length === 0) {\r\n        delete newCartCourses[data.course][data.section];\r\n      }\r\n      if(Object.keys(newCartCourses[data.course]).length === 0) {\r\n        delete newCartCourses[data.course];\r\n      }\r\n    }\r\n    else if('section' in data) {\r\n      delete newCartCourses[data.course][data.section];\r\n      if(Object.keys(newCartCourses[data.course]).length === 0) {\r\n        delete newCartCourses[data.course];\r\n      }\r\n    }\r\n    else {\r\n      delete newCartCourses[data.course];\r\n    }\r\n    this.setState({cartCourses: newCartCourses});\r\n  }\r\n\r\n  getCartData() {\r\n    let cartData = [];\r\n\r\n    for(const courseKey of Object.keys(this.state.cartCourses)) {\r\n      let course = this.state.allCourses.find((x) => {return x.number === courseKey})\r\n\r\n      cartData.push(course);\r\n    }\r\n    return cartData;\r\n  }\r\n\r\n  getCompletedData() {\r\n    let completedData = [];\r\n    let courseNum = this.state.completedCourses;\r\n\r\n    for(let i =0; i < courseNum.length; i++){\r\n      for(const courseKey of Object.values(this.state.allCourses)) {\r\n        if (courseKey.number === courseNum[i]){\r\n   \r\n          completedData.push(courseKey)\r\n        }\r\n      }\r\n    }\r\n\r\n    return completedData;\r\n  \r\n  }\r\n\r\n  getRecommendedData() {\r\n    let recommendedData = [];\r\n    let courseNum = this.state.completedCourses;\r\n    for(const courseKey of Object.values(this.state.allCourses)) {\r\n      let complete = false\r\n      for(let i =0; i < courseNum.length; i++){\r\n        if (courseKey.number === courseNum[i]){\r\n          complete = true\r\n          break\r\n        }\r\n      }\r\n      if (complete===false){\r\n\r\n        for(const item of Object.values(this.state.preference)){\r\n      \r\n          if (courseKey.subject.toLowerCase() === item){\r\n            if (recommendedData.indexOf(courseKey)===-1){\r\n              recommendedData.push(courseKey)\r\n              break\r\n            }\r\n          }else{\r\n            for(const keyword of Object.values(courseKey.keywords)){\r\n              if (keyword.toLowerCase() === item){\r\n                if (recommendedData.indexOf(courseKey)===-1){\r\n                  recommendedData.push(courseKey)\r\n                  break\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return recommendedData;\r\n  }\r\n  addPreference(e) {\r\n\r\n    let pref = this.state.preference\r\n    let add = []\r\n\r\n    if (pref.length===0){\r\n      add = e\r\n    }\r\n    else{\r\n      for(let i=0; i< e.length;  i++){\r\n        let nonExistEntry = true\r\n        for(const item of Object.values(pref)){\r\n      \r\n          if (item===e[i]){\r\n            nonExistEntry=false\r\n            break\r\n          }\r\n        }\r\n        if (nonExistEntry===true){\r\n          add.push(e[i])\r\n        }\r\n        \r\n      }\r\n    }\r\n   \r\n    this.setState({\r\n      preference: pref.concat(add)\r\n    })\r\n  }\r\n\r\n  removePreference(e) {\r\n    let newPref = [];\r\n    for(const item of Object.values(this.state.preference)){\r\n      let keepPref= true\r\n      for(const entry of Object.values(e)) {\r\n        if (item ===entry){ \r\n          keepPref = false\r\n          break\r\n        }\r\n      }\r\n      if (keepPref === true){ \r\n        newPref.push(item);\r\n      }\r\n    }\r\n    this.setState({ preference: newPref });\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\r\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n\r\n        <Tabs defaultActiveKey=\"search\" style={{position: 'fixed', zIndex: 1, width: '100%', backgroundColor: 'white'}}>\r\n          <Tab eventKey=\"search\" title=\"Search\" style={{paddingTop: '5vh'}}>\r\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} \r\n            subjects={this.state.subjects} interests = {this.state.interests}/>\r\n            <div style={{marginLeft: '20vw'}}>\r\n              <CourseArea all = {this.state.allCourses} complete ={this.state.completedCourses} data={this.state.filteredCourses} addCartCourse={(data) => this.addCartCourse(data)} removeCartCourse={(data) => this.removeCartCourse(data)} cartCourses={this.state.cartCourses}/>\r\n            </div>\r\n          </Tab>\r\n          <Tab eventKey=\"cart\" title=\"Cart\" style={{paddingTop: '5vh'}}>\r\n            <div style={{marginLeft: '20vw'}}>\r\n              <CourseArea  all = {this.state.allCourses} complete ={this.state.completedCourses} data={this.getCartData()} addCartCourse={(data) => this.addCartCourse(data)} removeCartCourse={(data) => this.removeCartCourse(data)} cartCourses={this.state.cartCourses}/>\r\n            </div>\r\n          </Tab>\r\n          <Tab eventKey=\"complete\" title=\"Completed Courses\" style={{paddingTop: '5vh'}}>\r\n            <div style={{marginLeft: '20vw'}}>\r\n\r\n            <CompletedArea data={this.getCompletedData()} \r\n            addPreference={(data) => this.addPreference(data)}\r\n            removePreference={(data) => this.removePreference(data)}/>\r\n             \r\n            </div>\r\n          </Tab>\r\n          <Tab eventKey=\"recommend\" title=\"Recommended Courses\" style={{paddingTop: '5vh'}}>\r\n            <div style={{marginLeft: '20vw'}}>\r\n            <Alert variant=\"success\">\r\n  <p>The following are untaken courses which has common interests with the completed ones that was rated more that 3.</p>\r\n</Alert>\r\n\r\n\r\n\r\n\r\n            <RecommendedArea data={this.getRecommendedData()}/>\r\n\r\n            </div>\r\n          </Tab>\r\n        </Tabs>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}